{
    "querystring": {},
    "schema": {
        "dirclientes": {
            "rel": "codcliente",
            "querystring": {
                "p_l": 50,
                "p_c": 1,
                "o_1": "-fechaalta"
            }
        }
    },
    "layout": {
    	"groupBoxCargaSEPA": {
            "componente": "YBGroupBox",
            "className": "",
            "layout": {
                "cargaDocSEPA": {
                    "componente": "YBButton",
                    "prefix": "clientes",
                    "icon": "book",
                    "className": "floatRight",
                    "buttonType": "raised",
                    "action": {
                        "key": "subir",
	                	"label": "Subir doc. SEPA",
						"success": [{"slot": "toast", "tipo": "success", "mensaje": "Documento subido correctamente"}, {"slot": "refrescar"}],
	                    "error": [{"slot": "toast", "mensaje": "Error inesperado, consulte administrador"}]
                    }
                }
            }
        },
        "formRecordClientes": {
            "prefix": "clientes",
            "componente": "YBForm",
            "class": "claseGrid",
            "submit": "update",
            "success": [{"slot": "return"}],
            "groupbox": "acordeon",
            "return": true,
            "fields": {
               "gb__datosGenerales": {
                    "title": "Datos generales",
                    "fields": {
                        "nombre": {},
                        "tipoidfiscal": {},
                        "cifnif": {},
                        "nombrecomercial": {},
                        "telefono1": {},
                        "email": {},
                        "codgrupo": {}
                    }
                },
                "gb__comercial": {
                    "title": "Comercial",
                    "fields": {
                        "codpago": {},
                        "codserie": {},
                        "coddivisa": {},
                        "codtiporappel": {},
                        "codagente": {},
                        "regimeniva": {},
                        "recargo": {},
                        "riesgomax": {},
                        "copiasfactura": {},
                        "riesgoalcanzado": {}
                    }
                }
        	}
        },      
        "groupBoxDirecciones": {
            "componente": "YBGroupBox",
            "label": "Direcciones",
            "className": "",
            "layout": {
                "dirclientesGrid": {
                    "label": "Direcciones",
                    "componente": "YBGrid",
                    "prefix": "dirclientes",
                    "className": "claseGrid",
                    "multiselectable": true,
                    "columns": [
                        {"tipo": "field", "key": "descripcion", "width": 60},
                        {"tipo": "field", "key": "domfacturacion", "width": 20},
                        {"tipo": "field", "key": "domenvio", "width": 20}
                    ],
                    "rowclick": "link",
                    "accionesGrid": [
                        {
                            "tipo": "button",
                            "key": "direnvio",
                            "label": "Dirección de envio",
                            "success": [
                                {"slot": "refrescar"}
                            ]
                        },
                        {
                            "tipo": "button",
                            "key": "dirfacturacion",
                            "label": "Dirección de facturación",
                            "success": [
                                {"slot": "refrescar"}
                            ]
                        },
                        {
                            "key": "nuevaLinea",
                            "label": "Nuevo",
                            "success": []
                        }
                    ]
                }
            }
        }
    },
    "acciones": {
        "delete": {
            "action": "deleteRow",
            "icon": "delete"
        },
        "nuevaLinea": {
            "action": "newRow",
            "icon": "add_circle"
        },
        "direnvio": {
            "action": "gridAction",
            "icon": "send",
            "prefix": "dirclientes",
            "serverAction": "cambiarDomEnvio"
        },
        "dirfacturacion": {
            "action": "gridAction",
            "icon": "home",
            "prefix": "dirclientes",
            "serverAction": "cambiarDomFacturacion"
        },
        "subir": {
            "action": "legacy",
            "prefix": "clientes",
            "serverAction": "subirDocSepa",
            "icon": "link",
            "params": [
                {
                    "componente": "YBFileInput",
                    "prefix": "otros",
                    "className": "",
                    "key": "adjunto",
                    "label": "SUBIR",
                    "prefix": "clientes",
                    "tipo": 30,
                    "style": {
                        "width": "100%"
                    },
                    "action": "subirDocSepa",
                    "autoUpload": false,
                    "fileRequired": true
                }
            ]
        }
    }
}
